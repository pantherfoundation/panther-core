import * as path from 'path';

import circom_wasm_tester from 'circom_tester';
const wasm_tester = circom_wasm_tester.wasm;

import { getOptions } from './helpers/circomTester';
import { wtns } from 'snarkjs';
import { MerkleTree } from '@zk-kit/merkle-tree';
import { poseidon, eddsa, babyjub } from 'circomlibjs';

describe('ZSwap - NonZeroInput - Ownership logic - Witness computation', async function (this: any) {
    let circuit: any;
    let ammWasm: any;
    let ammWitness: any;

    this.timeout(10_000_000);

    before(async () => {
        const opts = getOptions();
        const input = path.join(opts.basedir, './circuits/mainZSwapV1.circom');
        circuit = await wasm_tester(input, opts);

        ammWasm = path.join(opts.basedir, './compiled/zSwap/circuits.wasm');

        ammWitness = path.join(opts.basedir, './compiled/generateWitness.js');
    });

    const busMerkleTree = new MerkleTree(
        poseidon,
        26,
        BigInt(
            2896678800030780677881716886212119387589061708732637213728415628433288554509n,
        ),
    );

    const utxo0 =
        15875529768478602823278199326070739858596313834177130441574640119790659924022n;
    busMerkleTree.insert(utxo0);

    const utxo1 =
        8890603788061044058055806541237291787065584024863170008880261314060677141240n;
    busMerkleTree.insert(utxo1);

    const utxo2 =
        5965418786706240297169103721563608236247012439438458290422490499440593084037n;
    busMerkleTree.insert(utxo2);


    const zSwapNonZeroInput = {
        extraInputsHash: 9657970407377870387882083465026071923607957204540747778331438760307579156530n,

        depositAmount: 0,
        withdrawAmount: 10000000000000000000n,
        addedAmountZkp: 0,

        token: [
            423008832032380627721391562910712401300186637083n,
            1
        ],
        tokenId: [
            0,
            0
        ],
        utxoZAsset: [
            0,
            4294967296
        ],

        zAssetId: [
            0,
            4294967296,
            0
        ],
        zAssetToken: [
            423008832032380627721391562910712401300186637083n,
            1,
            423008832032380627721391562910712401300186637083n
        ],
        zAssetTokenId: [
            0,
            0,
            0
        ],
        zAssetNetwork: [
            2,
            2,
            2
        ],
        zAssetOffset: [
            0,
            0,
            0
        ],
        zAssetWeight: [
            20,
            700,
            20
        ],
        zAssetScale: [
            1000000000000,
            1000000000000,
            1000000000000
        ],
        zAssetMerkleRoot:
            668279113685838313769939342338240356910854981031448765023543792475150036263n,
        zAssetPathIndices: [
            [
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0
            ],
            [
                1,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0
            ],
            [
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0
            ]
        ],
        zAssetPathElements: [
            [
                12250459917399649301227969545675942953383048354021600775913101682520086269876n,
                12309267741734099494272706901337191083242660382078903814639712492485900109716n,
                3378776220260879286502089033253596247983977280165117209776494090180287943112n,
                13332607562825133358947880930907706925768730553195841232963500270946125500492n,
                2602133270707827583410190225239044634523625207877234879733211246465561970688n,
                19603150025355661252212198237607440386334054455687766589389473805115541553727n,
                21078238521337523625806977154031988767929399923323679789427062985634312723305n,
                15530836891415741166399860451702547522959094984965127719828675838122418186767n,
                17831836427614557290431652044145414371925087626131808598362009890774438652119n,
                4465836784202878977538296341471470300441964855135851519008900812038788261656n,
                12878033372712703816810492505815415858124057351499708737135229819203122809944n,
                18307780612008914306024415546812737365063691384665843671053755584619447524447n,
                18399220794236723308907532455368503933105202479015828179801520916772962880998n,
                17997772780903759195601581429183819619412163062353143936165307874482723961709n,
                18496693394049906980893311686550786982256672525298758106045562727433199943509n,
                12455859713696229724526221339047857485467607588813434501517928769317308134556n
            ],
            [
                17096879445008678434099077075082229859433404779935546266260364542751674482831n,
                12309267741734099494272706901337191083242660382078903814639712492485900109716n,
                3378776220260879286502089033253596247983977280165117209776494090180287943112n,
                13332607562825133358947880930907706925768730553195841232963500270946125500492n,
                2602133270707827583410190225239044634523625207877234879733211246465561970688n,
                19603150025355661252212198237607440386334054455687766589389473805115541553727n,
                21078238521337523625806977154031988767929399923323679789427062985634312723305n,
                15530836891415741166399860451702547522959094984965127719828675838122418186767n,
                17831836427614557290431652044145414371925087626131808598362009890774438652119n,
                4465836784202878977538296341471470300441964855135851519008900812038788261656n,
                12878033372712703816810492505815415858124057351499708737135229819203122809944n,
                18307780612008914306024415546812737365063691384665843671053755584619447524447n,
                18399220794236723308907532455368503933105202479015828179801520916772962880998n,
                17997772780903759195601581429183819619412163062353143936165307874482723961709n,
                18496693394049906980893311686550786982256672525298758106045562727433199943509n,
                12455859713696229724526221339047857485467607588813434501517928769317308134556n
            ],
            [
                12250459917399649301227969545675942953383048354021600775913101682520086269876n,
                12309267741734099494272706901337191083242660382078903814639712492485900109716n,
                3378776220260879286502089033253596247983977280165117209776494090180287943112n,
                13332607562825133358947880930907706925768730553195841232963500270946125500492n,
                2602133270707827583410190225239044634523625207877234879733211246465561970688n,
                19603150025355661252212198237607440386334054455687766589389473805115541553727n,
                21078238521337523625806977154031988767929399923323679789427062985634312723305n,
                15530836891415741166399860451702547522959094984965127719828675838122418186767n,
                17831836427614557290431652044145414371925087626131808598362009890774438652119n,
                4465836784202878977538296341471470300441964855135851519008900812038788261656n,
                12878033372712703816810492505815415858124057351499708737135229819203122809944n,
                18307780612008914306024415546812737365063691384665843671053755584619447524447n,
                18399220794236723308907532455368503933105202479015828179801520916772962880998n,
                17997772780903759195601581429183819619412163062353143936165307874482723961709n,
                18496693394049906980893311686550786982256672525298758106045562727433199943509n,
                12455859713696229724526221339047857485467607588813434501517928769317308134556n
            ]
        ],

        forTxReward: 10,
        forUtxoReward: 1828,
        forDepositReward: 57646075,

        spendTime: 1726564136,

        utxoInSpendPrivKey: [
            1607716436013189970283889137293550786969842061940777630397502165758664429018n,
            2038357390847763993082596456864041810879098809617303168736901453610551712957n,
        ],
        utxoInSpendKeyRandom: [
            116567919884511560704875304304679100450776120586640280587581058426976475811n,
            52364814895886280538003130545429182490135693221239648782738905552621759518n,
        ],
        utxoInAmount: [100000000, 200000000],
        utxoInOriginZoneId: [1, 1],
        utxoInOriginZoneIdOffset: [0, 0],
        utxoInOriginNetworkId: [2, 2],
        utxoInTargetNetworkId: [2, 2],
        utxoInCreateTime: [1706793810, 1706793810],
        utxoInZAccountId: [293, 293],
        utxoInMerkleTreeSelector: [
            [1, 0],
            [1, 0],
        ],
        utxoInPathIndices: [
            [
                0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            ],
            [
                1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            ],
        ],
        utxoInPathElements: [
            [
                8890603788061044058055806541237291787065584024863170008880261314060677141240n,
                4461485628865350877889033648993330284139871407837847735339569255675568298490n,
                3378776220260879286502089033253596247983977280165117209776494090180287943112n,
                13332607562825133358947880930907706925768730553195841232963500270946125500492n,
                2602133270707827583410190225239044634523625207877234879733211246465561970688n,
                19603150025355661252212198237607440386334054455687766589389473805115541553727n,
                21078238521337523625806977154031988767929399923323679789427062985634312723305n,
                15530836891415741166399860451702547522959094984965127719828675838122418186767n,
                17831836427614557290431652044145414371925087626131808598362009890774438652119n,
                4465836784202878977538296341471470300441964855135851519008900812038788261656n,
                12878033372712703816810492505815415858124057351499708737135229819203122809944n,
                18307780612008914306024415546812737365063691384665843671053755584619447524447n,
                18399220794236723308907532455368503933105202479015828179801520916772962880998n,
                17997772780903759195601581429183819619412163062353143936165307874482723961709n,
                18496693394049906980893311686550786982256672525298758106045562727433199943509n,
                12455859713696229724526221339047857485467607588813434501517928769317308134556n,
                4689866144310700684516443679096813921756239671572972966393880542662538400201n,
                15369835007378492529084633432655739856631861107309342928676871259240227049033n,
                11345121393552856548579926390199540849469635305183604045111689968777651956473n,
                11299066061427200562963422042645343948885353762628147353062799587547441871332n,
                13642291777448032365864888577168560039775015251774208221818005338405304930884n,
                5990068516814370380711726420154273589568095823652643357428323105329308577610n,
                3326440148296065541386325860294367616471601340115249960006624245213734239367n,
                17613623862311960463347469460117166104477522402420094872382418386742059442736n,
                16619835833299406266546819907603615045049052832835825671901337303713338780409n,
                15002435000641955406214223423745696701460524528446564760654584364314696565951n,
                0,
                0,
                0,
                0,
                0,
                0
            ],
            [
                15875529768478602823278199326070739858596313834177130441574640119790659924022n,
                4461485628865350877889033648993330284139871407837847735339569255675568298490n,
                3378776220260879286502089033253596247983977280165117209776494090180287943112n,
                13332607562825133358947880930907706925768730553195841232963500270946125500492n,
                2602133270707827583410190225239044634523625207877234879733211246465561970688n,
                19603150025355661252212198237607440386334054455687766589389473805115541553727n,
                21078238521337523625806977154031988767929399923323679789427062985634312723305n,
                15530836891415741166399860451702547522959094984965127719828675838122418186767n,
                17831836427614557290431652044145414371925087626131808598362009890774438652119n,
                4465836784202878977538296341471470300441964855135851519008900812038788261656n,
                12878033372712703816810492505815415858124057351499708737135229819203122809944n,
                18307780612008914306024415546812737365063691384665843671053755584619447524447n,
                18399220794236723308907532455368503933105202479015828179801520916772962880998n,
                17997772780903759195601581429183819619412163062353143936165307874482723961709n,
                18496693394049906980893311686550786982256672525298758106045562727433199943509n,
                12455859713696229724526221339047857485467607588813434501517928769317308134556n,
                4689866144310700684516443679096813921756239671572972966393880542662538400201n,
                15369835007378492529084633432655739856631861107309342928676871259240227049033n,
                11345121393552856548579926390199540849469635305183604045111689968777651956473n,
                11299066061427200562963422042645343948885353762628147353062799587547441871332n,
                13642291777448032365864888577168560039775015251774208221818005338405304930884n,
                5990068516814370380711726420154273589568095823652643357428323105329308577610n,
                3326440148296065541386325860294367616471601340115249960006624245213734239367n,
                17613623862311960463347469460117166104477522402420094872382418386742059442736n,
                16619835833299406266546819907603615045049052832835825671901337303713338780409n,
                15002435000641955406214223423745696701460524528446564760654584364314696565951n,
                0,
                0,
                0,
                0,
                0,
                0
            ]
        ],
        utxoInNullifier: [
            7060996127061616656010908648406092575393164866084021867414174376444626119757n,
            10493012124688364513245048983232598149649530243748798712947377063642501714309n,
        ],
        utxoInDataEscrowPubKey: [
            [
                6461944716578528228684977568060282675957977975225218900939908264185798821478n,
                6315516704806822012759516718356378665240592543978605015143731597167737293922n,
            ],
            [
                6461944716578528228684977568060282675957977975225218900939908264185798821478n,
                6315516704806822012759516718356378665240592543978605015143731597167737293922n
            ],
        ],

        zAccountUtxoInId: 293,
        zAccountUtxoInZkpAmount: 1000000000,
        zAccountUtxoInPrpAmount: 95,
        zAccountUtxoInZoneId: 1,
        zAccountUtxoInNetworkId: 2,
        zAccountUtxoInExpiryTime: 1715696570,
        zAccountUtxoInNonce: 9,
        zAccountUtxoInTotalAmountPerTimePeriod: 140007000,
        zAccountUtxoInCreateTime: 1706793810,
        zAccountUtxoInRootSpendPubKey: [
            13741044729756555227453439942506691800094040587313018913891176118633529933608n,
            4162257119081606105287484027540138260244869330719496639161319073698839633622n,
        ],
        zAccountUtxoInReadPubKey: [
            11293899983236693545605930484810043955781588475254985152832751402932907078579n,
            21640201734139623791207680394301532133944207677820523098553439386825199268933n,
        ],
        zAccountUtxoInNullifierPubKey: [
            11293899983236693545605930484810043955781588475254985152832751402932907078579n,
            21640201734139623791207680394301532133944207677820523098553439386825199268933n,
        ],
        zAccountUtxoInMasterEOA:
            810773455995915674734131211006652689015187677651n,
        zAccountUtxoInSpendPrivKey:
            492141644481737026697428467814493320427560324752341249134780066070867822251n,

        zAccountUtxoInReadPrivKey:
            2150141965768078281331168639359879687131810615114790549987707130126693420040n,

        zAccountUtxoInNullifierPrivKey:
            2150141965768078281331168639359879687131810615114790549987707130126693420040n,

        zAccountUtxoInMerkleTreeSelector: [1, 0],
        zAccountUtxoInPathIndices: [
            0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0,
        ],
        zAccountUtxoInPathElements: [
            2896678800030780677881716886212119387589061708732637213728415628433288554509n,
            20966063928334258661096170006961130010609684226733283653796975811284575865494n,
            3378776220260879286502089033253596247983977280165117209776494090180287943112n,
            13332607562825133358947880930907706925768730553195841232963500270946125500492n,
            2602133270707827583410190225239044634523625207877234879733211246465561970688n,
            19603150025355661252212198237607440386334054455687766589389473805115541553727n,
            21078238521337523625806977154031988767929399923323679789427062985634312723305n,
            15530836891415741166399860451702547522959094984965127719828675838122418186767n,
            17831836427614557290431652044145414371925087626131808598362009890774438652119n,
            4465836784202878977538296341471470300441964855135851519008900812038788261656n,
            12878033372712703816810492505815415858124057351499708737135229819203122809944n,
            18307780612008914306024415546812737365063691384665843671053755584619447524447n,
            18399220794236723308907532455368503933105202479015828179801520916772962880998n,
            17997772780903759195601581429183819619412163062353143936165307874482723961709n,
            18496693394049906980893311686550786982256672525298758106045562727433199943509n,
            12455859713696229724526221339047857485467607588813434501517928769317308134556n,
            4689866144310700684516443679096813921756239671572972966393880542662538400201n,
            15369835007378492529084633432655739856631861107309342928676871259240227049033n,
            11345121393552856548579926390199540849469635305183604045111689968777651956473n,
            11299066061427200562963422042645343948885353762628147353062799587547441871332n,
            13642291777448032365864888577168560039775015251774208221818005338405304930884n,
            5990068516814370380711726420154273589568095823652643357428323105329308577610n,
            3326440148296065541386325860294367616471601340115249960006624245213734239367n,
            17613623862311960463347469460117166104477522402420094872382418386742059442736n,
            16619835833299406266546819907603615045049052832835825671901337303713338780409n,
            15002435000641955406214223423745696701460524528446564760654584364314696565951n,
            0,
            0,
            0,
            0,
            0,
            0
        ],
        zAccountUtxoInNullifier:
            2683608600858551272625072596771890860076246154744099747202630027091646993467n,

        zAccountBlackListLeaf: 0,
        zAccountBlackListMerkleRoot:
            19217088683336594659449020493828377907203207941212636669271704950158751593251n,

        zAccountBlackListPathElements: [
            0,
            14744269619966411208579211824598458697587494354926760081771325075741142829156n,
            7423237065226347324353380772367382631490014989348495481811164164159255474657n,
            11286972368698509976183087595462810875513684078608517520839298933882497716792n,
            3607627140608796879659380071776844901612302623152076817094415224584923813162n,
            19712377064642672829441595136074946683621277828620209496774504837737984048981n,
            20775607673010627194014556968476266066927294572720319469184847051418138353016n,
            3396914609616007258851405644437304192397291162432396347162513310381425243293n,
            21551820661461729022865262380882070649935529853313286572328683688269863701601n,
            6573136701248752079028194407151022595060682063033565181951145966236778420039n,
            12413880268183407374852357075976609371175688755676981206018884971008854919922n,
            14271763308400718165336499097156975241954733520325982997864342600795471836726n,
            20066985985293572387227381049700832219069292839614107140851619262827735677018n,
            9394776414966240069580838672673694685292165040808226440647796406499139370960n,
            11331146992410411304059858900317123658895005918277453009197229807340014528524n,
            15819538789928229930262697811477882737253464456578333862691129291651619515538n,
        ],

        // zZone
        zZoneOriginZoneIDs: 1,
        zZoneTargetZoneIDs: 1,
        zZoneNetworkIDsBitMap: 6,
        zZoneTrustProvidersMerkleTreeLeafIDsAndRulesList: 1577058395,
        zZoneKycExpiryTime: 10368000,
        zZoneKytExpiryTime: 86400,
        zZoneDepositMaxAmount: 2000000000000,
        zZoneWithdrawMaxAmount: 2000000000000,
        zZoneInternalMaxAmount: 2000000000000,
        zZoneMerkleRoot:
            6557409195775588777314308543244282194465011384189821952201456331277094232051n,
        zZonePathElements: [
            2896678800030780677881716886212119387589061708732637213728415628433288554509n,
            15915358021544645824948763611506574620607002248967455613245207713011512736724n,
            3378776220260879286502089033253596247983977280165117209776494090180287943112n,
            13332607562825133358947880930907706925768730553195841232963500270946125500492n,
            2602133270707827583410190225239044634523625207877234879733211246465561970688n,
            19603150025355661252212198237607440386334054455687766589389473805115541553727n,
            21078238521337523625806977154031988767929399923323679789427062985634312723305n,
            15530836891415741166399860451702547522959094984965127719828675838122418186767n,
            17831836427614557290431652044145414371925087626131808598362009890774438652119n,
            4465836784202878977538296341471470300441964855135851519008900812038788261656n,
            12878033372712703816810492505815415858124057351499708737135229819203122809944n,
            18307780612008914306024415546812737365063691384665843671053755584619447524447n,
            18399220794236723308907532455368503933105202479015828179801520916772962880998n,
            17997772780903759195601581429183819619412163062353143936165307874482723961709n,
            18496693394049906980893311686550786982256672525298758106045562727433199943509n,
            12455859713696229724526221339047857485467607588813434501517928769317308134556n
        ],
        zZonePathIndices: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        zZoneEdDsaPubKey: [
            13969057660566717294144404716327056489877917779406382026042873403164748884885n,
            11069452135192839850369824221357904553346382352990372044246668947825855305207n,
        ],
        zZoneDataEscrowEphemeralRandom:
            357982170908233231735988707665552287768901427025792529848762210128399457331n,
        zZoneDataEscrowEphemeralPubKeyAx:
            11786633272103216200540875255407336216090776681806019073614567913262198197178n,
        zZoneDataEscrowEphemeralPubKeyAy:
            13263541075202267426669359372712491125511937875809105820100608238179897213074n,
        zZoneZAccountIDsBlackList:
            1766847064778384329583297500742918515827483896875618958121606201292619775n,
        zZoneMaximumAmountPerTimePeriod: 10000000000000,
        zZoneTimePeriodPerMaximumAmount: 86400,
        zZoneSealing: 0,
        zZoneDataEscrowEncryptedMessage: [
            10012323685362015757638577569981476891673000705432783043355571151705947618883n,
        ],
        zZoneDataEscrowEncryptedMessageHmac:
            11414641462235005733055538841502926047217855258745723123629367071120803281683n,

        kytEdDsaPubKey: [
            9487832625653172027749782479736182284968410276712116765581383594391603612850n,
            20341243520484112812812126668555427080517815150392255522033438580038266039458n,
        ],
        kytEdDsaPubKeyExpiryTime: 0,
        trustProvidersMerkleRoot:
            13084888469698085766451973171494549274425214242077512982852907973123551153288n,

        kytPathElements: [
            9489899717616586094160199124420951802253527995585848778940667248421979517388n,
            15915358021544645824948763611506574620607002248967455613245207713011512736724n,
            3378776220260879286502089033253596247983977280165117209776494090180287943112n,
            13332607562825133358947880930907706925768730553195841232963500270946125500492n,
            2602133270707827583410190225239044634523625207877234879733211246465561970688n,
            19603150025355661252212198237607440386334054455687766589389473805115541553727n,
            21078238521337523625806977154031988767929399923323679789427062985634312723305n,
            15530836891415741166399860451702547522959094984965127719828675838122418186767n,
            17831836427614557290431652044145414371925087626131808598362009890774438652119n,
            4465836784202878977538296341471470300441964855135851519008900812038788261656n,
            12878033372712703816810492505815415858124057351499708737135229819203122809944n,
            18307780612008914306024415546812737365063691384665843671053755584619447524447n,
            18399220794236723308907532455368503933105202479015828179801520916772962880998n,
            17997772780903759195601581429183819619412163062353143936165307874482723961709n,
            18496693394049906980893311686550786982256672525298758106045562727433199943509n,
            12455859713696229724526221339047857485467607588813434501517928769317308134556n
        ],
        kytPathIndices: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        kytMerkleTreeLeafIDsAndRulesOffset: 1,

        kytDepositSignedMessagePackageType: 2,
        kytDepositSignedMessageTimestamp: 0,
        kytDepositSignedMessageSender:
            892183926902079649974146756459892156309863347189n,
        kytDepositSignedMessageReceiver:
            709496637804796192603128782448270907352643487695n,
        kytDepositSignedMessageToken: 0,
        kytDepositSignedMessageSessionId: 0,
        kytDepositSignedMessageRuleId: 0,
        kytDepositSignedMessageAmount: 0,
        kytDepositSignedMessageChargedAmountZkp: 0,
        kytDepositSignedMessageSigner: 0,
        kytDepositSignedMessageHash: 0,
        kytDepositSignature: [
            0,
            0,
            0,
        ],
        kytWithdrawSignedMessagePackageType: 2,
        kytWithdrawSignedMessageTimestamp: 0,
        kytWithdrawSignedMessageSender: 709496637804796192603128782448270907352643487695n,
        kytWithdrawSignedMessageReceiver: 1083551335276088971558105298652951189468863724288n,
        kytWithdrawSignedMessageToken: 0,
        kytWithdrawSignedMessageSessionId: 0,
        kytWithdrawSignedMessageRuleId: 0,
        kytWithdrawSignedMessageAmount: 0,
        kytWithdrawSignedMessageChargedAmountZkp: 0,
        kytWithdrawSignedMessageSigner: 0,
        kytWithdrawSignedMessageHash: 0,
        kytWithdrawSignature: [0, 0, 0],

        kytSignedMessagePackageType: 253,
        kytSignedMessageTimestamp: 0,
        kytSignedMessageSessionId: 0,
        kytSignedMessageChargedAmountZkp: 0,
        kytSignedMessageSigner: 0,
        kytSignedMessageDataEscrowHash: 0,
        kytSignedMessageHash: 0,
        kytSignature: [
            0,
            0,
            0,
        ],

        dataEscrowPubKey: [
            6461944716578528228684977568060282675957977975225218900939908264185798821478n,
            6315516704806822012759516718356378665240592543978605015143731597167737293922n,
        ],
        dataEscrowPubKeyExpiryTime: 1735689600,
        dataEscrowEphemeralRandom:
            813050315600177975019294931161119472152246957691829962471945364890457821935n,

        dataEscrowEphemeralPubKeyAx:
            19305368539078432085615199333903487561385027799878772001957377290109998230483n,

        dataEscrowEphemeralPubKeyAy:
            8139892185673027706934322216216805679139780967591419402615090794323147153625n,

        dataEscrowPathElements: [
            14682758562102259981539611421570263363871408350472653319882432400921027182298n,
            15915358021544645824948763611506574620607002248967455613245207713011512736724n,
            3378776220260879286502089033253596247983977280165117209776494090180287943112n,
            13332607562825133358947880930907706925768730553195841232963500270946125500492n,
            2602133270707827583410190225239044634523625207877234879733211246465561970688n,
            19603150025355661252212198237607440386334054455687766589389473805115541553727n,
            21078238521337523625806977154031988767929399923323679789427062985634312723305n,
            15530836891415741166399860451702547522959094984965127719828675838122418186767n,
            17831836427614557290431652044145414371925087626131808598362009890774438652119n,
            4465836784202878977538296341471470300441964855135851519008900812038788261656n,
            12878033372712703816810492505815415858124057351499708737135229819203122809944n,
            18307780612008914306024415546812737365063691384665843671053755584619447524447n,
            18399220794236723308907532455368503933105202479015828179801520916772962880998n,
            17997772780903759195601581429183819619412163062353143936165307874482723961709n,
            18496693394049906980893311686550786982256672525298758106045562727433199943509n,
            12455859713696229724526221339047857485467607588813434501517928769317308134556n
        ],
        dataEscrowPathIndices: [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],

        dataEscrowEncryptedMessage: [
            8612065577357089144653575721069197638886481128567278168951651069628877259419n,
            17664135684342000161818611188506105450558595829191772866533604439167458144642n,
            20495201366897250440599969295103360606203320952350766689135692943104377546560n,
            21774123038988248368375188948137167475948108966074282865360287853104891263610n,
            4747810000936920630835692571653977980109019738944440010378982505002860413058n,
        ],
        dataEscrowEncryptedMessageHmac:
            3523956143256429631386138624752257092160719408176556972821946447471866457763n,

        daoDataEscrowPubKey: [
            6744227429794550577826885407270460271570870592820358232166093139017217680114n,
            12531080428555376703723008094946927789381711849570844145043392510154357220479n
        ],
        daoDataEscrowEphemeralRandom:
            153863747417451337920589947250092707542801373906629621310819378064933412825n,

        daoDataEscrowEphemeralPubKeyAx:
            231073516082472467352395635825862923455798327644705302775370380258168952879n,

        daoDataEscrowEphemeralPubKeyAy:
            19328537304578231306598108513094717661042054865685096601302111116759786461139n,

        daoDataEscrowEncryptedMessage: [
            3327763459954903527890160226696734262250729558374677472729683816916078140330n,
        ],
        daoDataEscrowEncryptedMessageHmac:
            9554441055213390274028865927050707923429035647649650710489939905482774102448n,

        utxoOutCreateTime: 1715695870,
        utxoOutAmount: [290000000, 0],
        utxoOutOriginNetworkId: [2, 2],
        utxoOutTargetNetworkId: [2, 2],
        utxoOutTargetZoneId: [1, 1],
        utxoOutTargetZoneIdOffset: [0, 0],

        utxoOutSpendPubKeyRandom: [
            963806998795743687111835586032156136137934785846265653257401942323889234435n, //new random by the sender ZAccount
            2366712633531037336294185200184492361922822528798701929987374920764716546035n,
        ],

        utxoOutRootSpendPubKey: [
            [
                13741044729756555227453439942506691800094040587313018913891176118633529933608n,
                4162257119081606105287484027540138260244869330719496639161319073698839633622n,
            ],
            [
                13741044729756555227453439942506691800094040587313018913891176118633529933608n,
                4162257119081606105287484027540138260244869330719496639161319073698839633622n
            ],
        ],
        utxoOutCommitment: [
            14345563016555463153669729857814397567061045472593149319412187215766817978713n,
            6622045540859535939758931412140364688335161369196816159892631773620666226419n,
        ],
        zAccountUtxoOutZkpAmount: 995000000,
        zAccountUtxoOutSpendKeyRandom:
            633574393901100558167338767120371095038543529066931811834086253414104786485n,

        zAccountUtxoOutCommitment:
            12141238942982630505940300476923793329395426105547514477862564509606282452601n,

        chargedAmountZkp: 5000000000000000000n,

        zNetworkId: 2,
        zNetworkChainId: 80002,
        zNetworkIDsBitMap: 6,
        zNetworkTreeMerkleRoot:
            21435177800898174783505394578802425541541585465799453895585161456364473367264n,

        zNetworkTreePathIndices: [1, 0, 0, 0, 0, 0],
        zNetworkTreePathElements: [
            15110891231840115656999687414886892543252819991497164835236199566479990784819n,
            15915358021544645824948763611506574620607002248967455613245207713011512736724n,
            3378776220260879286502089033253596247983977280165117209776494090180287943112n,
            13332607562825133358947880930907706925768730553195841232963500270946125500492n,
            2602133270707827583410190225239044634523625207877234879733211246465561970688n,
            19603150025355661252212198237607440386334054455687766589389473805115541553727n,
        ],


        staticTreeMerkleRoot:
            9533890808292406368177305919582060526404510811701939117639557476231521942105n,

        forestMerkleRoot: 8043767606560508574458084663269091161027724036695737403099518168770294844003n,
        taxiMerkleRoot: 0,

        busMerkleRoot:
            15774708328943578724106497522213973251863957623648376414563502586826143377603n,

        ferryMerkleRoot: 0,

        salt: 17190388637180073840719002876417025003408651756995256826994226713359277970427n,
        saltHash: 2521215159739581825527344005841960203379597548272236911750774134238894851622n,
        magicalConstraint: 2403183239416133976952540526810943824409886857057968395813581075679652070730n,
    };

    it('should compute valid witness for non zero input with new ownership logic tx', async () => {
        await wtns.calculate(zSwapNonZeroInput, ammWasm, ammWitness, null);
        console.log('Witness calculation successful!');
    });
});
