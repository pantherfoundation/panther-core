{
  "address": "0x347a58878d04951588741d4d16d54b742c7f60fc",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_rewardToken",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_rewardPool",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_owner",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "oracle",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "bytes4",
          "name": "action",
          "type": "bytes4"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "adviser",
          "type": "address"
        }
      ],
      "name": "AdviserUpdated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "adjustment",
          "type": "uint256"
        }
      ],
      "name": "BalanceAdjusted",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "reward",
          "type": "uint256"
        }
      ],
      "name": "RewardAdded",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "reward",
          "type": "uint256"
        }
      ],
      "name": "RewardPaid",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "SharesGranted",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "SharesRedeemed",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "OWNER",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "REWARD_POOL",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "REWARD_TOKEN",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "START_BLOCK",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "accumRewardPerShare",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "oracle",
          "type": "address"
        },
        {
          "internalType": "bytes4",
          "name": "action",
          "type": "bytes4"
        },
        {
          "internalType": "address",
          "name": "adviser",
          "type": "address"
        }
      ],
      "name": "addRewardAdviser",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "claimedToken",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "to",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "claimErc20",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        }
      ],
      "name": "entitled",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "reward",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "lastBalance",
      "outputs": [
        {
          "internalType": "uint96",
          "name": "",
          "type": "uint96"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "lastVestedBlock",
      "outputs": [
        {
          "internalType": "uint32",
          "name": "",
          "type": "uint32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes4",
          "name": "action",
          "type": "bytes4"
        },
        {
          "internalType": "bytes",
          "name": "message",
          "type": "bytes"
        }
      ],
      "name": "onAction",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "records",
      "outputs": [
        {
          "internalType": "uint96",
          "name": "shares",
          "type": "uint96"
        },
        {
          "internalType": "uint160",
          "name": "offset",
          "type": "uint160"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "oracle",
          "type": "address"
        },
        {
          "internalType": "bytes4",
          "name": "action",
          "type": "bytes4"
        }
      ],
      "name": "removeRewardAdviser",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "bytes4",
          "name": "",
          "type": "bytes4"
        }
      ],
      "name": "rewardAdvisers",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "totalShares",
      "outputs": [
        {
          "internalType": "uint128",
          "name": "",
          "type": "uint128"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "triggerVesting",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "transactionHash": "0x93cea64ac8c276a64407d80b3b5e82acdbf5805eb323e9aa5bf7f46a485b7477",
  "receipt": {
    "to": null,
    "from": "0xE33b386126149F11cbee6a691d7aFf72dF8dd16d",
    "contractAddress": "0xb457a46087295cFab22eAa9c407EB26c34F40AB7",
    "transactionIndex": 21,
    "gasUsed": "1633381",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
    "blockHash": "0x8aaf71ec3a3343a8f33ab19f187f1ff6bcaac84a92d6c9c5fe1774d268b522b0",
    "transactionHash": "0x93cea64ac8c276a64407d80b3b5e82acdbf5805eb323e9aa5bf7f46a485b7477",
    "logs": [],
    "blockNumber": 10196137,
    "cumulativeGasUsed": "7592520",
    "status": 1,
    "byzantium": true
  },
  "args": [
    "0xaE329e01CA91e2492376f44Cf1d393749FE53ad3",
    "0xc6C8C1757a118e2f16E141AB1E1C8bF53198b55C",
    "0xE33b386126149F11cbee6a691d7aFf72dF8dd16d"
  ],
  "numDeployments": 1,
  "solcInputHash": "4d5ac9e8b890873e77578da1c69de345",
  "metadata": "{\"compiler\":{\"version\":\"0.8.4+commit.c7e474f2\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_rewardToken\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_rewardPool\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_owner\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"oracle\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"bytes4\",\"name\":\"action\",\"type\":\"bytes4\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"adviser\",\"type\":\"address\"}],\"name\":\"AdviserUpdated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"adjustment\",\"type\":\"uint256\"}],\"name\":\"BalanceAdjusted\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"reward\",\"type\":\"uint256\"}],\"name\":\"RewardAdded\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"reward\",\"type\":\"uint256\"}],\"name\":\"RewardPaid\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"SharesGranted\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"SharesRedeemed\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"OWNER\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"REWARD_POOL\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"REWARD_TOKEN\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"START_BLOCK\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"accumRewardPerShare\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"oracle\",\"type\":\"address\"},{\"internalType\":\"bytes4\",\"name\":\"action\",\"type\":\"bytes4\"},{\"internalType\":\"address\",\"name\":\"adviser\",\"type\":\"address\"}],\"name\":\"addRewardAdviser\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"claimedToken\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"claimErc20\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"entitled\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"reward\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"lastBalance\",\"outputs\":[{\"internalType\":\"uint96\",\"name\":\"\",\"type\":\"uint96\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"lastVestedBlock\",\"outputs\":[{\"internalType\":\"uint32\",\"name\":\"\",\"type\":\"uint32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes4\",\"name\":\"action\",\"type\":\"bytes4\"},{\"internalType\":\"bytes\",\"name\":\"message\",\"type\":\"bytes\"}],\"name\":\"onAction\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"records\",\"outputs\":[{\"internalType\":\"uint96\",\"name\":\"shares\",\"type\":\"uint96\"},{\"internalType\":\"uint160\",\"name\":\"offset\",\"type\":\"uint160\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"oracle\",\"type\":\"address\"},{\"internalType\":\"bytes4\",\"name\":\"action\",\"type\":\"bytes4\"}],\"name\":\"removeRewardAdviser\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"bytes4\",\"name\":\"\",\"type\":\"bytes4\"}],\"name\":\"rewardAdvisers\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"totalShares\",\"outputs\":[{\"internalType\":\"uint128\",\"name\":\"\",\"type\":\"uint128\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"triggerVesting\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"events\":{\"BalanceAdjusted(uint256)\":{\"details\":\"Emitted when the Treasury counts for \\\"extra\\\" reward tokens. \\\"Extra\\\" tokens are ones sent to this contract directly (rather than vested via the REWARD_POOL).\"},\"RewardAdded(uint256)\":{\"details\":\"Emitted when new reward token amount vested to this contract\"},\"RewardPaid(address,uint256)\":{\"details\":\"Emitted when reward token amount paid to/for a user\"},\"SharesGranted(address,uint256)\":{\"details\":\"Emitted when new shares granted to a user\"},\"SharesRedeemed(address,uint256)\":{\"details\":\"Emitted when shares of a user redeemed\"}},\"kind\":\"dev\",\"methods\":{\"addRewardAdviser(address,bytes4,address)\":{\"details\":\"May be only called by the {OWNER} !!!!! Before adding a new \\\"adviser\\\", ensure \\\"shares\\\" it \\\"advices\\\" can not overflow `UserRecord.shares`, `UserRecord.offset` and `totalShares`.\"},\"claimErc20(address,address,uint256)\":{\"details\":\"May be only called by the {OWNER}\"},\"removeRewardAdviser(address,bytes4)\":{\"details\":\"May be only called by the {OWNER}\"}},\"stateVariables\":{\"MIN_SHARES_REWARDED\":{\"details\":\"Min number of unredeemed shares being rewarded\"},\"MIN_VESTING_BLOCKS\":{\"details\":\"Min number of blocks between vesting in the Treasury\"},\"START_BLOCK\":{\"details\":\"Block the contract deployed in\"},\"lastBalance\":{\"details\":\"Reward token balance (aka Treasury) after last vesting (token total supply is supposed to not exceed 2**96)\"},\"lastVestedBlock\":{\"details\":\"Block when reward tokens were last time were vested in\"}},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"OWNER()\":{\"notice\":\"The owner who has privileged rights\"},\"REWARD_POOL()\":{\"notice\":\"RewardPool instance that vests the reward token\"},\"REWARD_TOKEN()\":{\"notice\":\"Token rewards are given in\"},\"addRewardAdviser(address,bytes4,address)\":{\"notice\":\"Adds the \\\"RewardAdviser\\\" for given ActionOracle and action type\"},\"claimErc20(address,address,uint256)\":{\"notice\":\"Withdraws accidentally sent token from this contract\"},\"entitled(address)\":{\"notice\":\"Returns reward token amount entitled to the given user/account\"},\"removeRewardAdviser(address,bytes4)\":{\"notice\":\"Remove \\\"RewardAdviser\\\" for given ActionOracle and action type\"},\"totalShares()\":{\"notice\":\"Total number of unredeemed shares (it is supposed to not exceed 2**128)\"}},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/RewardMaster.sol\":\"RewardMaster\"},\"evmVersion\":\"istanbul\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"none\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":800},\"remappings\":[]},\"sources\":{\"contracts/RewardMaster.sol\":{\"content\":\"// SPDX-License-Identifier: UNLICENSED\\n// solhint-disable-next-line compiler-fixed, compiler-gt-0_8\\npragma solidity ^0.8.0;\\n\\nimport \\\"./actions/RewardAdvisersList.sol\\\";\\nimport \\\"./interfaces/IActionMsgReceiver.sol\\\";\\nimport \\\"./interfaces/IErc20Min.sol\\\";\\nimport \\\"./interfaces/IRewardAdviser.sol\\\";\\nimport \\\"./interfaces/IRewardPool.sol\\\";\\nimport \\\"./utils/ImmutableOwnable.sol\\\";\\nimport \\\"./utils/Claimable.sol\\\";\\nimport \\\"./utils/NonReentrant.sol\\\";\\nimport \\\"./utils/Utils.sol\\\";\\n\\n/***\\n * @title RewardMaster\\n * @notice It accounts rewards and distributes reward tokens to users.\\n * @dev It withdraws the reward token from (or via) the \\\"REWARD_POOL\\\" contract,\\n * and keeps tokens, aka \\\"Treasury\\\", on its balance until distribution.\\n * It issues to users \\\"shares\\\" in the Treasury, or redeems shares, paying out\\n * tokens from the Treasury to users, or on behalf of users, as follows.\\n * It receives messages (calls) on \\\"actions\\\" to be rewarded from authorized\\n * \\\"ActionOracle\\\" contracts.\\n * On every \\\"action\\\" message received, it calls a \\\"RewardAdviser\\\" contract,\\n * assigned for that ActionOracle and action type, which advices on how many\\n * shares shall be created and to whom, or whose shares must be redeemed, and\\n * where reward tokens shall be sent to.\\n * The owner may add or remove addresses of ActionOracle`s and RewardAdviser`s.\\n */\\ncontract RewardMaster is\\n    ImmutableOwnable,\\n    Utils,\\n    Claimable,\\n    NonReentrant,\\n    RewardAdvisersList,\\n    IActionMsgReceiver\\n{\\n    // solhint-disable var-name-mixedcase\\n\\n    /// @notice Token rewards are given in\\n    address public immutable REWARD_TOKEN;\\n\\n    /// @notice RewardPool instance that vests the reward token\\n    address public immutable REWARD_POOL;\\n\\n    /// @dev Block the contract deployed in\\n    uint256 public immutable START_BLOCK;\\n\\n    // solhint-enable var-name-mixedcase\\n\\n    /**\\n     * At any time, the amount of the reward token a user is entitled to is:\\n     *   tokenAmountEntitled = accumRewardPerShare * user.shares - user.offset\\n     *\\n     * This formula works since we update parameters as follows ...\\n     *\\n     * - when a new reward token amount added to the Treasury:\\n     *   accumRewardPerShare += tokenAmountAdded / totalShares\\n     *\\n     * - when new shares granted to a user:\\n     *   user.offset += sharesToCreate * accumRewardPerShare\\n     *   user.shares += sharesToCreate\\n     *   totalShares += sharesToCreate\\n     *\\n     * - when shares redeemed to a user:\\n     *   redemptionRate = accumRewardPerShare - user.offset/user.shares\\n     *   user.offset -= user.offset/user.shares * sharesToRedeem\\n     *   user.shares -= sharesToRedeem\\n     *   totalShares -= sharesToRedeem\\n     *   tokenAmountPayable = redemptionRate * sharesToRedeem\\n     *\\n     * (Scaling omitted in formulas above for clarity.)\\n     */\\n\\n    /// @dev Block when reward tokens were last time were vested in\\n    uint32 public lastVestedBlock;\\n    /// @dev Reward token balance (aka Treasury) after last vesting\\n    /// (token total supply is supposed to not exceed 2**96)\\n    uint96 public lastBalance;\\n\\n    /// @notice Total number of unredeemed shares\\n    /// (it is supposed to not exceed 2**128)\\n    uint128 public totalShares;\\n    /// @dev Min number of unredeemed shares being rewarded\\n    uint256 private constant MIN_SHARES_REWARDED = 1000;\\n    /// @dev Min number of blocks between vesting in the Treasury\\n    uint256 private constant MIN_VESTING_BLOCKS = 300;\\n\\n    // see comments above for explanation\\n    uint256 public accumRewardPerShare;\\n    // `accumRewardPerShare` is scaled (up) with this factor\\n    uint256 private constant SCALE = 1e9;\\n\\n    // see comments above for explanation\\n    struct UserRecord {\\n        // (limited to 2**96)\\n        uint96 shares;\\n        uint160 offset;\\n    }\\n\\n    // Mapping from user address to UserRecord data\\n    mapping(address => UserRecord) public records;\\n\\n    /// @dev Emitted when new shares granted to a user\\n    event SharesGranted(address indexed user, uint256 amount);\\n    /// @dev Emitted when shares of a user redeemed\\n    event SharesRedeemed(address indexed user, uint256 amount);\\n    /// @dev Emitted when new reward token amount vested to this contract\\n    event RewardAdded(uint256 reward);\\n    /// @dev Emitted when reward token amount paid to/for a user\\n    event RewardPaid(address indexed user, uint256 reward);\\n    /// @dev Emitted when the Treasury counts for \\\"extra\\\" reward tokens.\\n    /// \\\"Extra\\\" tokens are ones sent to this contract directly (rather than\\n    /// vested via the REWARD_POOL).\\n    event BalanceAdjusted(uint256 adjustment);\\n\\n    constructor(\\n        address _rewardToken,\\n        address _rewardPool,\\n        address _owner\\n    ) ImmutableOwnable(_owner) {\\n        require(\\n            _rewardToken != address(0) && _rewardPool != address(0),\\n            \\\"RM:C1\\\"\\n        );\\n\\n        REWARD_TOKEN = _rewardToken;\\n        REWARD_POOL = _rewardPool;\\n        START_BLOCK = blockNow();\\n    }\\n\\n    /// @notice Returns reward token amount entitled to the given user/account\\n    // This amount the account would get if shares would be redeemed now\\n    function entitled(address account) public view returns (uint256 reward) {\\n        UserRecord memory rec = records[account];\\n        if (rec.shares == 0) return 0;\\n\\n        // no reentrancy guard needed for the known contract call\\n        uint256 releasable = IRewardPool(REWARD_POOL).releasableAmount();\\n        uint256 _accumRewardPerShare = accumRewardPerShare;\\n        uint256 _totalShares = uint256(totalShares);\\n        if (releasable != 0 && _totalShares >= MIN_SHARES_REWARDED) {\\n            _accumRewardPerShare += (releasable * SCALE) / _totalShares;\\n        }\\n\\n        (reward, , ) = _computeRedemption(\\n            uint256(rec.shares),\\n            rec,\\n            _accumRewardPerShare\\n        );\\n    }\\n\\n    function onAction(bytes4 action, bytes memory message) external override {\\n        IRewardAdviser adviser = _getRewardAdviserOrRevert(msg.sender, action);\\n        // no reentrancy guard needed for the known contract call\\n        IRewardAdviser.Advice memory advice = adviser.getRewardAdvice(\\n            action,\\n            message\\n        );\\n        if (advice.sharesToCreate > 0) {\\n            _grantShares(advice.createSharesFor, advice.sharesToCreate);\\n        }\\n        if (advice.sharesToRedeem > 0) {\\n            _redeemShares(\\n                advice.redeemSharesFrom,\\n                advice.sharesToRedeem,\\n                advice.sendRewardTo\\n            );\\n        }\\n    }\\n\\n    function triggerVesting() external {\\n        _triggerVesting(true, false);\\n    }\\n\\n    /* ========== ONLY FOR OWNER FUNCTIONS ========== */\\n\\n    /**\\n     * @notice Adds the \\\"RewardAdviser\\\" for given ActionOracle and action type\\n     * @dev May be only called by the {OWNER}\\n     * !!!!! Before adding a new \\\"adviser\\\", ensure \\\"shares\\\" it \\\"advices\\\" can not\\n     * overflow `UserRecord.shares`, `UserRecord.offset` and `totalShares`.\\n     */\\n    function addRewardAdviser(\\n        address oracle,\\n        bytes4 action,\\n        address adviser\\n    ) external onlyOwner {\\n        _addRewardAdviser(oracle, action, adviser);\\n    }\\n\\n    /// @notice Remove \\\"RewardAdviser\\\" for given ActionOracle and action type\\n    /// @dev May be only called by the {OWNER}\\n    function removeRewardAdviser(address oracle, bytes4 action)\\n        external\\n        onlyOwner\\n    {\\n        _removeRewardAdviser(oracle, action);\\n    }\\n\\n    /// @notice Withdraws accidentally sent token from this contract\\n    /// @dev May be only called by the {OWNER}\\n    function claimErc20(\\n        address claimedToken,\\n        address to,\\n        uint256 amount\\n    ) external onlyOwner nonReentrant {\\n        if (claimedToken == address(REWARD_TOKEN)) {\\n            // Not allowed if unclaimed shares remain\\n            require(totalShares == 0, \\\"RM: Failed to claim\\\");\\n        }\\n        _claimErc20(claimedToken, to, amount);\\n    }\\n\\n    /* ========== INTERNAL & PRIVATE FUNCTIONS ========== */\\n\\n    function _computeRedemption(\\n        uint256 sharesToRedeem,\\n        UserRecord memory rec,\\n        uint256 _accumRewardPerShare\\n    )\\n        internal\\n        pure\\n        returns (\\n            uint256 reward,\\n            uint256 newShares,\\n            uint256 newOffset\\n        )\\n    {\\n        // `rec.shares` and `sharesToRedeem` are assumed to be non-zero here,\\n        // and `sharesToRedeem` does not exceed `rec.shares`\\n        newShares = uint256(rec.shares) - sharesToRedeem;\\n\\n        uint256 offsetRedeemed = newShares == 0\\n            ? uint256(rec.offset)\\n            : (uint256(rec.offset) * sharesToRedeem) / uint256(rec.shares);\\n        newOffset = uint256(rec.offset) - offsetRedeemed;\\n\\n        reward = 0;\\n        if (_accumRewardPerShare != 0) {\\n            reward = (sharesToRedeem * _accumRewardPerShare) / SCALE;\\n            // avoid eventual overflow resulted from rounding\\n            reward -= reward >= offsetRedeemed ? offsetRedeemed : reward;\\n        }\\n    }\\n\\n    function _grantShares(address to, uint256 shares)\\n        internal\\n        nonZeroAmount(shares)\\n        nonZeroAddress(to)\\n    {\\n        (uint256 _accumRewardPerShare, , ) = _triggerVesting(true, true);\\n\\n        UserRecord memory rec = records[to];\\n        uint256 newOffset = uint256(rec.offset) +\\n            (shares * _accumRewardPerShare) /\\n            SCALE;\\n        uint256 newShares = uint256(rec.shares) + shares;\\n\\n        records[to] = UserRecord(safe96(newShares), safe160(newOffset));\\n        totalShares = safe128(uint256(totalShares) + shares);\\n\\n        emit SharesGranted(to, shares);\\n    }\\n\\n    function _redeemShares(\\n        address from,\\n        // `shares` assumed to be non-zero\\n        uint256 shares,\\n        address to\\n    ) internal nonZeroAmount(shares) nonZeroAddress(from) nonZeroAddress(to) {\\n        UserRecord memory rec = records[from];\\n        require(rec.shares >= shares, \\\"RM: Not enough shares to redeem\\\");\\n\\n        (\\n            uint256 _accumRewardPerShare,\\n            uint256 newBalance,\\n            uint256 oldBalance\\n        ) = _triggerVesting(false, true);\\n\\n        (\\n            uint256 reward,\\n            uint256 newShares,\\n            uint256 newOffset\\n        ) = _computeRedemption(shares, rec, _accumRewardPerShare);\\n\\n        records[from] = UserRecord(safe96(newShares), safe160(newOffset));\\n        totalShares = safe128(uint256(totalShares) - shares);\\n\\n        uint256 _lastBalance = newBalance - reward;\\n        if (oldBalance != _lastBalance) {\\n            lastBalance = safe96(_lastBalance);\\n        }\\n\\n        if (reward != 0) {\\n            // known contract - nether reentrancy guard nor safeTransfer required\\n            require(\\n                IErc20Min(REWARD_TOKEN).transfer(to, reward),\\n                \\\"RM: Internal transfer failed\\\"\\n            );\\n            emit RewardPaid(to, reward);\\n        }\\n\\n        emit SharesRedeemed(from, shares);\\n    }\\n\\n    function _triggerVesting(\\n        bool isLastBalanceToBeUpdated,\\n        bool isMinVestingBlocksApplied\\n    )\\n        internal\\n        returns (\\n            uint256 newAccumRewardPerShare,\\n            uint256 newBalance,\\n            uint256 oldBalance\\n        )\\n    {\\n        uint32 _blockNow = safe32BlockNow();\\n        newAccumRewardPerShare = accumRewardPerShare;\\n        oldBalance = uint256(lastBalance);\\n        uint256 _totalShares = totalShares;\\n\\n        uint32 blocksPast = _blockNow - lastVestedBlock;\\n        if (\\n            (blocksPast == 0) ||\\n            (isMinVestingBlocksApplied && blocksPast < MIN_VESTING_BLOCKS) ||\\n            _totalShares < MIN_SHARES_REWARDED\\n        ) {\\n            // Do not request vesting from the REWARD_POOL\\n            return (newAccumRewardPerShare, oldBalance, oldBalance);\\n        }\\n\\n        // known contracts, no reentrancy guard needed\\n        uint256 newlyVested = IRewardPool(REWARD_POOL).vestRewards();\\n        newBalance = IErc20Min(REWARD_TOKEN).balanceOf(address(this));\\n\\n        uint256 expectedBalance = oldBalance + newlyVested;\\n        if (newBalance > expectedBalance) {\\n            // somebody transferred tokens to this contract directly\\n            uint256 adjustment = newBalance - expectedBalance;\\n            newlyVested += adjustment;\\n            emit BalanceAdjusted(adjustment);\\n        }\\n        if (newlyVested != 0) {\\n            newAccumRewardPerShare += (newlyVested * SCALE) / _totalShares;\\n            accumRewardPerShare = newAccumRewardPerShare;\\n            emit RewardAdded(newlyVested);\\n        }\\n        lastVestedBlock = _blockNow;\\n        if (isLastBalanceToBeUpdated && (oldBalance != newBalance)) {\\n            lastBalance = safe96(newBalance);\\n        }\\n    }\\n\\n    /* ========== MODIFIERS ========== */\\n\\n    modifier nonZeroAmount(uint256 amount) {\\n        require(amount > 0, \\\"RM: Zero amount provided\\\");\\n        _;\\n    }\\n\\n    modifier nonZeroAddress(address account) {\\n        require(account != address(0), \\\"RM: Zero address provided\\\");\\n        _;\\n    }\\n}\\n\",\"keccak256\":\"0x9e98eccbb399e71ff519e984c772504285a3ce96fe1f552d544c7d6b19d25b71\",\"license\":\"UNLICENSED\"},\"contracts/actions/RewardAdvisersList.sol\":{\"content\":\"// SPDX-License-Identifier: UNLICENSED\\n// solhint-disable-next-line compiler-fixed, compiler-gt-0_8\\npragma solidity ^0.8.0;\\n\\nimport \\\"../interfaces/IRewardAdviser.sol\\\";\\n\\n/**\\n * @title ActionControllers\\n * @notice It maintains a list of \\\"ActionOracle\\\" and \\\"RewardAdviser\\\" instances.\\n * For a tuple of ActionOracle address and action type, an RewardAdviser\\n * instance of  may be mapped.\\n */\\nabstract contract RewardAdvisersList {\\n    /// @dev Emitted when RewardAdviser added, updated, or removed\\n    event AdviserUpdated(\\n        address indexed oracle,\\n        bytes4 indexed action,\\n        address adviser\\n    );\\n\\n    /// @dev mapping from ActionOracle and (type of) action to ActionController\\n    mapping(address => mapping(bytes4 => address)) public rewardAdvisers;\\n\\n    function _addRewardAdviser(\\n        address oracle,\\n        bytes4 action,\\n        address adviser\\n    ) internal {\\n        require(\\n            oracle != address(0) &&\\n                adviser != address(0) &&\\n                action != bytes4(0),\\n            \\\"ACM:E1\\\"\\n        );\\n        require(rewardAdvisers[oracle][action] == address(0), \\\"ACM:E2\\\");\\n        rewardAdvisers[oracle][action] = adviser;\\n        emit AdviserUpdated(oracle, action, adviser);\\n    }\\n\\n    function _removeRewardAdviser(address oracle, bytes4 action) internal {\\n        require(rewardAdvisers[oracle][action] != address(0), \\\"ACM:E3\\\");\\n        rewardAdvisers[oracle][action] = address(0);\\n        emit AdviserUpdated(oracle, action, address(0));\\n    }\\n\\n    function _getRewardAdviserOrRevert(address oracle, bytes4 action)\\n        internal\\n        view\\n        returns (IRewardAdviser)\\n    {\\n        address adviser = rewardAdvisers[oracle][action];\\n        require(adviser != address(0), \\\"ACM:E4\\\");\\n        return IRewardAdviser(adviser);\\n    }\\n}\\n\",\"keccak256\":\"0xf4e990da93c7112fc26adef5245dd4032ff6d86a1b653c9620e1dce99bd5da6e\",\"license\":\"UNLICENSED\"},\"contracts/interfaces/IActionMsgReceiver.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.0;\\n\\ninterface IActionMsgReceiver {\\n    function onAction(bytes4 action, bytes memory message) external;\\n}\\n\",\"keccak256\":\"0x63eef574820bb79cbcd97be37575491617054bc11836be452c2eda73c4861f58\",\"license\":\"MIT\"},\"contracts/interfaces/IErc20Min.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.0;\\n\\ninterface IErc20Min {\\n    /// @dev ERC-20 `balanceOf`\\n    function balanceOf(address account) external view returns (uint256);\\n\\n    /// @dev ERC-20 `transfer`\\n    function transfer(address recipient, uint256 amount)\\n        external\\n        returns (bool);\\n\\n    /// @dev ERC-20 `transferFrom`\\n    function transferFrom(\\n        address sender,\\n        address recipient,\\n        uint256 amount\\n    ) external returns (bool);\\n\\n    /// @dev EIP-2612 `permit`\\n    function permit(\\n        address owner,\\n        address spender,\\n        uint256 value,\\n        uint256 deadline,\\n        uint8 v,\\n        bytes32 r,\\n        bytes32 s\\n    ) external;\\n}\\n\",\"keccak256\":\"0x732db097fcf91d4e4bf49a43262f9268e02f6a7abb7583edfa861468c0541bf2\",\"license\":\"MIT\"},\"contracts/interfaces/IRewardAdviser.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.0;\\n\\ninterface IRewardAdviser {\\n    struct Advice {\\n        // advice on new \\\"shares\\\" (in the reward pool) to create\\n        address createSharesFor;\\n        uint96 sharesToCreate;\\n        // advice on \\\"shares\\\" to redeem\\n        address redeemSharesFrom;\\n        uint96 sharesToRedeem;\\n        // advice on address the reward against redeemed shares to send to\\n        address sendRewardTo;\\n    }\\n\\n    function getRewardAdvice(bytes4 action, bytes memory message)\\n        external\\n        returns (Advice memory);\\n}\\n\",\"keccak256\":\"0x9ecf725af20a11f29d94406fc335d3b20afd60dfb9e398a409966e0568ac1bbb\",\"license\":\"MIT\"},\"contracts/interfaces/IRewardPool.sol\":{\"content\":\"// SPDX-License-Identifier: BUSL-1.1\\n// SPDX-FileCopyrightText: Copyright 2021-22 Panther Ventures Limited Gibraltar\\npragma solidity ^0.8.0;\\n\\ninterface IRewardPool {\\n    /// @notice Returns token amount that may be released (vested) now\\n    function releasableAmount() external view returns (uint256);\\n\\n    /// @notice Vests releasable token amount to the {recipient}\\n    /// @dev {recipient} only may call\\n    function vestRewards() external returns (uint256 amount);\\n\\n    /// @notice Emitted on vesting to the {recipient}\\n    event Vested(uint256 amount);\\n\\n    /// @notice Emitted on parameters initialized.\\n    event Initialized(uint256 _poolId, address _recipient, uint256 _endTime);\\n}\\n\",\"keccak256\":\"0x71e5db44f47a4e7256deceef5077d5ddda9dcb5815bf12590746f3d7aa812054\",\"license\":\"BUSL-1.1\"},\"contracts/utils/Claimable.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// solhint-disable-next-line compiler-fixed, compiler-gt-0_8\\npragma solidity ^0.8.0;\\n\\n/**\\n * @title Claimable\\n * @notice It withdraws accidentally sent tokens from this contract.\\n */\\ncontract Claimable {\\n    bytes4 private constant SELECTOR_TRANSFER =\\n        bytes4(keccak256(bytes(\\\"transfer(address,uint256)\\\")));\\n\\n    /// @dev Withdraws ERC20 tokens from this contract\\n    /// (take care of reentrancy attack risk mitigation)\\n    function _claimErc20(\\n        address token,\\n        address to,\\n        uint256 amount\\n    ) internal {\\n        // solhint-disable avoid-low-level-calls\\n        (bool success, bytes memory data) = token.call(\\n            abi.encodeWithSelector(SELECTOR_TRANSFER, to, amount)\\n        );\\n        require(\\n            success && (data.length == 0 || abi.decode(data, (bool))),\\n            \\\"claimErc20: TRANSFER_FAILED\\\"\\n        );\\n    }\\n}\\n\",\"keccak256\":\"0x702e63e7eef33ed5490abd4a58db7074a1bcf1b055057cbbbdbeaa4112f5c437\",\"license\":\"MIT\"},\"contracts/utils/ImmutableOwnable.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// solhint-disable-next-line compiler-fixed, compiler-gt-0_8\\npragma solidity ^0.8.0;\\n\\n/// @title Staking\\nabstract contract ImmutableOwnable {\\n    /// @notice The owner who has privileged rights\\n    // solhint-disable-next-line var-name-mixedcase\\n    address public immutable OWNER;\\n\\n    /// @dev Throws if called by any account other than the {OWNER}.\\n    modifier onlyOwner() {\\n        require(OWNER == msg.sender, \\\"ImmOwn: unauthorized\\\");\\n        _;\\n    }\\n\\n    constructor(address _owner) {\\n        require(_owner != address(0), \\\"ImmOwn: zero owner address\\\");\\n        OWNER = _owner;\\n    }\\n}\\n\",\"keccak256\":\"0xa7fcff1c9e37b9c757c39cf83b9149b440de47f72a1fb77426a75520fedead5c\",\"license\":\"MIT\"},\"contracts/utils/NonReentrant.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// solhint-disable-next-line compiler-fixed, compiler-gt-0_8\\npragma solidity ^0.8.0;\\n\\n/**\\n * @title NonReentrant\\n * @notice It provides reentrancy guard.\\n * The code borrowed from openzeppelin-contracts.\\n * Unlike original, this version requires neither `constructor` no `init` call.\\n */\\nabstract contract NonReentrant {\\n    uint256 private constant _NOT_ENTERED = 1;\\n    uint256 private constant _ENTERED = 2;\\n\\n    uint256 private _reentrancyStatus;\\n\\n    modifier nonReentrant() {\\n        // Being called right after deployment, when _reentrancyStatus is 0 ,\\n        // it does not revert (which is expected behaviour)\\n        require(_reentrancyStatus != _ENTERED, \\\"claimErc20: reentrant call\\\");\\n\\n        // Any calls to nonReentrant after this point will fail\\n        _reentrancyStatus = _ENTERED;\\n\\n        _;\\n\\n        // By storing the original value once again, a refund is triggered (see\\n        // https://eips.ethereum.org/EIPS/eip-2200)\\n        _reentrancyStatus = _NOT_ENTERED;\\n    }\\n}\\n\",\"keccak256\":\"0xbf71fedcb5a991cc9142ec5f8260ddfd30da2d17f0fe9171ea276901835a53fa\",\"license\":\"MIT\"},\"contracts/utils/Utils.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// solhint-disable-next-line compiler-fixed, compiler-gt-0_8\\npragma solidity ^0.8.0;\\n\\nabstract contract Utils {\\n    function safe32(uint256 n) internal pure returns (uint32) {\\n        require(n < 2**32, \\\"UNSAFE32\\\");\\n        return uint32(n);\\n    }\\n\\n    function safe96(uint256 n) internal pure returns (uint96) {\\n        require(n < 2**96, \\\"UNSAFE96\\\");\\n        return uint96(n);\\n    }\\n\\n    function safe128(uint256 n) internal pure returns (uint128) {\\n        require(n < 2**128, \\\"UNSAFE128\\\");\\n        return uint128(n);\\n    }\\n\\n    function safe160(uint256 n) internal pure returns (uint160) {\\n        require(n < 2**160, \\\"UNSAFE160\\\");\\n        return uint160(n);\\n    }\\n\\n    function safe32TimeNow() internal view returns (uint32) {\\n        return safe32(timeNow());\\n    }\\n\\n    function safe32BlockNow() internal view returns (uint32) {\\n        return safe32(blockNow());\\n    }\\n\\n    /// @dev Returns the current block timestamp (added to ease testing)\\n    function timeNow() internal view virtual returns (uint256) {\\n        return block.timestamp;\\n    }\\n\\n    /// @dev Returns the current block number (added to ease testing)\\n    function blockNow() internal view virtual returns (uint256) {\\n        return block.number;\\n    }\\n}\\n\",\"keccak256\":\"0x792e9324cc764dbd45210aa817127d67fae28bee7dc9b91e98cd1253617b04e1\",\"license\":\"MIT\"}},\"version\":1}",
  "bytecode": "0x6101006040523480156200001257600080fd5b5060405162001e9638038062001e96833981016040819052620000359162000145565b806001600160a01b038116620000925760405162461bcd60e51b815260206004820152601a60248201527f496d6d4f776e3a207a65726f206f776e6572206164647265737300000000000060448201526064015b60405180910390fd5b60601b6001600160601b0319166080526001600160a01b03831615801590620000c357506001600160a01b03821615155b620000f95760405162461bcd60e51b8152602060048201526005602482015264524d3a433160d81b604482015260640162000089565b6001600160601b0319606084811b821660a05283901b1660c0526200011b4390565b60e052506200018e915050565b80516001600160a01b03811681146200014057600080fd5b919050565b6000806000606084860312156200015a578283fd5b620001658462000128565b9250620001756020850162000128565b9150620001856040850162000128565b90509250925092565b60805160601c60a05160601c60c05160601c60e051611c8d62000209600039600061019f0152600081816103290152818161054201526108d5015260008181610302015281816107160152818161097e01526110e501526000818161010a0152818161046b0152818161064c01526107c50152611c8d6000f3fe608060405234801561001057600080fd5b50600436106101005760003560e01c8063492bc9bc1161009757806392a70fb01161006657806392a70fb0146102ea57806399248ea7146102fd57806399f91c281461032457806399ff97361461034b57600080fd5b8063492bc9bc146102765780634934da9e1461029b5780636e1ede72146102a45780638f1c56bd146102b757600080fd5b806339b3e826116100d357806339b3e8261461019a5780633a98ef39146101cf57806345d6854214610201578063469e90671461021457600080fd5b8063117803e31461010557806316762b3b146101495780631b865046146101535780632007577e14610166575b600080fd5b61012c7f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b0390911681526020015b60405180910390f35b61015161035e565b005b6101516101613660046119a2565b61036f565b61012c610174366004611906565b60016020908152600092835260408084209091529082529020546001600160a01b031681565b6101c17f000000000000000000000000000000000000000000000000000000000000000081565b604051908152602001610140565b6002546101e990600160801b90046001600160801b031681565b6040516001600160801b039091168152602001610140565b61015161020f366004611906565b610469565b61024f6102223660046118aa565b6004602052600090815260409020546001600160601b03811690600160601b90046001600160a01b031682565b604080516001600160601b0390931683526001600160a01b03909116602083015201610140565b6002546102869063ffffffff1681565b60405163ffffffff9091168152602001610140565b6101c160035481565b6101c16102b23660046118aa565b6104eb565b6002546102d29064010000000090046001600160601b031681565b6040516001600160601b039091168152602001610140565b6101516102f83660046118c6565b61064a565b61012c7f000000000000000000000000000000000000000000000000000000000000000081565b61012c7f000000000000000000000000000000000000000000000000000000000000000081565b61015161035936600461193a565b6107c3565b61036a6001600061083d565b505050565b600061037b3384610b36565b90506000816001600160a01b031663e9cb032485856040518363ffffffff1660e01b81526004016103ad929190611b09565b60a060405180830381600087803b1580156103c757600080fd5b505af11580156103db573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103ff9190611a42565b60208101519091506001600160601b03161561043057610430816000015182602001516001600160601b0316610bbc565b60608101516001600160601b03161561046357610463816040015182606001516001600160601b03168360800151610e08565b50505050565b7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031633146104dd5760405162461bcd60e51b8152602060048201526014602482015273125b5b53dddb8e881d5b985d5d1a1bdc9a5e995960621b60448201526064015b60405180910390fd5b6104e78282611244565b5050565b6001600160a01b0380821660009081526004602090815260408083208151808301909252546001600160601b038116808352600160601b90910490941691810191909152909161053e5750600092915050565b60007f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316635b9400816040518163ffffffff1660e01b815260040160206040518083038186803b15801561059957600080fd5b505afa1580156105ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105d19190611ad5565b60035460025491925090600160801b90046001600160801b031682158015906105fc57506103e88110155b156106275780610610633b9aca0085611bb5565b61061a9190611b95565b6106249083611b7d565b91505b835161063d906001600160601b03168584611340565b5090979650505050505050565b7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031633146106b95760405162461bcd60e51b8152602060048201526014602482015273125b5b53dddb8e881d5b985d5d1a1bdc9a5e995960621b60448201526064016104d4565b6002600054141561070c5760405162461bcd60e51b815260206004820152601a60248201527f636c61696d45726332303a207265656e7472616e742063616c6c00000000000060448201526064016104d4565b60026000819055507f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316836001600160a01b031614156107ae57600254600160801b90046001600160801b0316156107ae5760405162461bcd60e51b815260206004820152601360248201527f524d3a204661696c656420746f20636c61696d0000000000000000000000000060448201526064016104d4565b6107b9838383611416565b5050600160005550565b7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031633146108325760405162461bcd60e51b8152602060048201526014602482015273125b5b53dddb8e881d5b985d5d1a1bdc9a5e995960621b60448201526064016104d4565b61036a838383611576565b60008060008061084b6116fc565b6003546002549095506001600160601b0364010000000082041693509091506001600160801b03600160801b8204169060009061088e9063ffffffff1684611beb565b905063ffffffff811615806108b257508680156108b2575061012c8163ffffffff16105b806108be57506103e882105b156108d157858495509550505050610b2f565b60007f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316633c43059d6040518163ffffffff1660e01b8152600401602060405180830381600087803b15801561092e57600080fd5b505af1158015610942573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906109669190611ad5565b6040516370a0823160e01b81523060048201529091507f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906370a082319060240160206040518083038186803b1580156109c857600080fd5b505afa1580156109dc573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610a009190611ad5565b95506000610a0e8287611b7d565b905080871115610a6d576000610a248289611bd4565b9050610a308184611b7d565b92507f0701991c7670454699af0d89a71c6225608163b182136536a3a34395535b5a4881604051610a6391815260200190565b60405180910390a1505b8115610ad25783610a82633b9aca0084611bb5565b610a8c9190611b95565b610a969089611b7d565b60038190556040518381529098507fde88a922e0d3b88b24e9623efeb464919c6bf9f66857a65e2bfcf2ce87a9433d9060200160405180910390a15b6002805463ffffffff191663ffffffff8716179055898015610af45750868614155b15610b2957610b028761170c565b600260046101000a8154816001600160601b0302191690836001600160601b031602179055505b50505050505b9250925092565b6001600160a01b0380831660009081526001602090815260408083206001600160e01b03198616845290915281205490911680610bb55760405162461bcd60e51b815260206004820152600660248201527f41434d3a4534000000000000000000000000000000000000000000000000000060448201526064016104d4565b9392505050565b8060008111610c0d5760405162461bcd60e51b815260206004820152601860248201527f524d3a205a65726f20616d6f756e742070726f7669646564000000000000000060448201526064016104d4565b826001600160a01b038116610c645760405162461bcd60e51b815260206004820152601960248201527f524d3a205a65726f20616464726573732070726f76696465640000000000000060448201526064016104d4565b6000610c7160018061083d565b50506001600160a01b0380871660009081526004602090815260408083208151808301909252546001600160601b0381168252600160601b90049093169083015291925090633b9aca00610cc58488611bb5565b610ccf9190611b95565b82602001516001600160a01b0316610ce79190611b7d565b905060008683600001516001600160601b0316610d049190611b7d565b90506040518060400160405280610d1a8361170c565b6001600160601b03168152602001610d3184611765565b6001600160a01b03908116909152898116600090815260046020908152604090912083519390910151909116600160601b026001600160601b03909216919091179055600254610d9c90610d979089906001600160801b03600160801b90910416611b7d565b6117cb565b600280546001600160801b03928316600160801b0292169190911790556040516001600160a01b038916907fa9cb08b17f930ad003053de9e6b23478fb011aa5113047ce62b832dcbb6d2e4290610df6908a815260200190565b60405180910390a25050505050505050565b8160008111610e595760405162461bcd60e51b815260206004820152601860248201527f524d3a205a65726f20616d6f756e742070726f7669646564000000000000000060448201526064016104d4565b836001600160a01b038116610eb05760405162461bcd60e51b815260206004820152601960248201527f524d3a205a65726f20616464726573732070726f76696465640000000000000060448201526064016104d4565b826001600160a01b038116610f075760405162461bcd60e51b815260206004820152601960248201527f524d3a205a65726f20616464726573732070726f76696465640000000000000060448201526064016104d4565b6001600160a01b038087166000908152600460209081526040918290208251808401909352546001600160601b038116808452600160601b9091049093169082015290861115610f995760405162461bcd60e51b815260206004820152601f60248201527f524d3a204e6f7420656e6f7567682073686172657320746f2072656465656d0060448201526064016104d4565b6000806000610faa6000600161083d565b9250925092506000806000610fc08c8888611340565b9250925092506040518060400160405280610fda8461170c565b6001600160601b03168152602001610ff183611765565b6001600160a01b039081169091528e8116600090815260046020908152604090912083519390910151909116600160601b026001600160601b0390921691909117905560025461105790610d97908e906001600160801b03600160801b90910416611bd4565b600280546001600160801b03928316600160801b02921691909117905560006110808487611bd4565b90508085146110b9576110928161170c565b600260046101000a8154816001600160601b0302191690836001600160601b031602179055505b83156111f15760405163a9059cbb60e01b81526001600160a01b038d81166004830152602482018690527f0000000000000000000000000000000000000000000000000000000000000000169063a9059cbb90604401602060405180830381600087803b15801561112957600080fd5b505af115801561113d573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906111619190611982565b6111ad5760405162461bcd60e51b815260206004820152601c60248201527f524d3a20496e7465726e616c207472616e73666572206661696c65640000000060448201526064016104d4565b8b6001600160a01b03167fe2403640ba68fed3a2f88b7557551d1993f84b99bb10ff833f0cf8db0c5e0486856040516111e891815260200190565b60405180910390a25b8d6001600160a01b03167fc064950777109fc27d3ee46c0e316d1aad25e9b115d36ea363e5623fabf0f4fe8e60405161122c91815260200190565b60405180910390a25050505050505050505050505050565b6001600160a01b0382811660009081526001602090815260408083206001600160e01b031986168452909152902054166112c05760405162461bcd60e51b815260206004820152600660248201527f41434d3a4533000000000000000000000000000000000000000000000000000060448201526064016104d4565b6001600160a01b03821660008181526001602090815260408083206001600160e01b03198616808552908352818420805473ffffffffffffffffffffffffffffffffffffffff19169055905192835292917fc3b2e3d4ba2ea7ac7abc74ac870cb893deaa227c6c21322632d97e6a2e2bf92d910160405180910390a35050565b60008060008585600001516001600160601b031661135e9190611bd4565b91506000821561139e5785600001516001600160601b03168787602001516001600160a01b031661138f9190611bb5565b6113999190611b95565b6113ad565b85602001516001600160a01b03165b90508086602001516001600160a01b03166113c89190611bd4565b600094509150841561140c57633b9aca006113e38689611bb5565b6113ed9190611b95565b9350808410156113fd57836113ff565b805b6114099085611bd4565b93505b5093509350939050565b604080518082018252601981527f7472616e7366657228616464726573732c75696e74323536290000000000000060209182015281516001600160a01b0385811660248301526044808301869052845180840390910181526064909201845291810180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1663a9059cbb60e01b179052915160009283928716916114b79190611aed565b6000604051808303816000865af19150503d80600081146114f4576040519150601f19603f3d011682016040523d82523d6000602084013e6114f9565b606091505b50915091508180156115235750805115806115235750808060200190518101906115239190611982565b61156f5760405162461bcd60e51b815260206004820152601b60248201527f636c61696d45726332303a205452414e534645525f4641494c4544000000000060448201526064016104d4565b5050505050565b6001600160a01b0383161580159061159657506001600160a01b03811615155b80156115ab57506001600160e01b0319821615155b6115f75760405162461bcd60e51b815260206004820152600660248201527f41434d3a4531000000000000000000000000000000000000000000000000000060448201526064016104d4565b6001600160a01b0383811660009081526001602090815260408083206001600160e01b03198716845290915290205416156116745760405162461bcd60e51b815260206004820152600660248201527f41434d3a4532000000000000000000000000000000000000000000000000000060448201526064016104d4565b6001600160a01b0383811660008181526001602090815260408083206001600160e01b0319881680855290835292819020805473ffffffffffffffffffffffffffffffffffffffff191695871695861790555193845290927fc3b2e3d4ba2ea7ac7abc74ac870cb893deaa227c6c21322632d97e6a2e2bf92d910160405180910390a3505050565b600061170743611820565b905090565b6000600160601b82106117615760405162461bcd60e51b815260206004820152600860248201527f554e53414645393600000000000000000000000000000000000000000000000060448201526064016104d4565b5090565b60007401000000000000000000000000000000000000000082106117615760405162461bcd60e51b815260206004820152600960248201527f554e53414645313630000000000000000000000000000000000000000000000060448201526064016104d4565b6000600160801b82106117615760405162461bcd60e51b815260206004820152600960248201527f554e53414645313238000000000000000000000000000000000000000000000060448201526064016104d4565b600064010000000082106117615760405162461bcd60e51b815260206004820152600860248201527f554e53414645333200000000000000000000000000000000000000000000000060448201526064016104d4565b80356001600160e01b03198116811461188e57600080fd5b919050565b80516001600160601b038116811461188e57600080fd5b6000602082840312156118bb578081fd5b8135610bb581611c68565b6000806000606084860312156118da578182fd5b83356118e581611c68565b925060208401356118f581611c68565b929592945050506040919091013590565b60008060408385031215611918578182fd5b823561192381611c68565b915061193160208401611876565b90509250929050565b60008060006060848603121561194e578283fd5b833561195981611c68565b925061196760208501611876565b9150604084013561197781611c68565b809150509250925092565b600060208284031215611993578081fd5b81518015158114610bb5578182fd5b600080604083850312156119b4578182fd5b6119bd83611876565b915060208084013567ffffffffffffffff808211156119da578384fd5b818601915086601f8301126119ed578384fd5b8135818111156119ff576119ff611c52565b611a11601f8201601f19168501611b4c565b91508082528784828501011115611a26578485fd5b8084840185840137810190920192909252919491935090915050565b600060a08284031215611a53578081fd5b60405160a0810181811067ffffffffffffffff82111715611a7657611a76611c52565b6040528251611a8481611c68565b8152611a9260208401611893565b60208201526040830151611aa581611c68565b6040820152611ab660608401611893565b60608201526080830151611ac981611c68565b60808201529392505050565b600060208284031215611ae6578081fd5b5051919050565b60008251611aff818460208701611c10565b9190910192915050565b63ffffffff60e01b831681526040602082015260008251806040840152611b37816060850160208701611c10565b601f01601f1916919091016060019392505050565b604051601f8201601f1916810167ffffffffffffffff81118282101715611b7557611b75611c52565b604052919050565b60008219821115611b9057611b90611c3c565b500190565b600082611bb057634e487b7160e01b81526012600452602481fd5b500490565b6000816000190483118215151615611bcf57611bcf611c3c565b500290565b600082821015611be657611be6611c3c565b500390565b600063ffffffff83811690831681811015611c0857611c08611c3c565b039392505050565b60005b83811015611c2b578181015183820152602001611c13565b838111156104635750506000910152565b634e487b7160e01b600052601160045260246000fd5b634e487b7160e01b600052604160045260246000fd5b6001600160a01b0381168114611c7d57600080fd5b5056fea164736f6c6343000804000a",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106101005760003560e01c8063492bc9bc1161009757806392a70fb01161006657806392a70fb0146102ea57806399248ea7146102fd57806399f91c281461032457806399ff97361461034b57600080fd5b8063492bc9bc146102765780634934da9e1461029b5780636e1ede72146102a45780638f1c56bd146102b757600080fd5b806339b3e826116100d357806339b3e8261461019a5780633a98ef39146101cf57806345d6854214610201578063469e90671461021457600080fd5b8063117803e31461010557806316762b3b146101495780631b865046146101535780632007577e14610166575b600080fd5b61012c7f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b0390911681526020015b60405180910390f35b61015161035e565b005b6101516101613660046119a2565b61036f565b61012c610174366004611906565b60016020908152600092835260408084209091529082529020546001600160a01b031681565b6101c17f000000000000000000000000000000000000000000000000000000000000000081565b604051908152602001610140565b6002546101e990600160801b90046001600160801b031681565b6040516001600160801b039091168152602001610140565b61015161020f366004611906565b610469565b61024f6102223660046118aa565b6004602052600090815260409020546001600160601b03811690600160601b90046001600160a01b031682565b604080516001600160601b0390931683526001600160a01b03909116602083015201610140565b6002546102869063ffffffff1681565b60405163ffffffff9091168152602001610140565b6101c160035481565b6101c16102b23660046118aa565b6104eb565b6002546102d29064010000000090046001600160601b031681565b6040516001600160601b039091168152602001610140565b6101516102f83660046118c6565b61064a565b61012c7f000000000000000000000000000000000000000000000000000000000000000081565b61012c7f000000000000000000000000000000000000000000000000000000000000000081565b61015161035936600461193a565b6107c3565b61036a6001600061083d565b505050565b600061037b3384610b36565b90506000816001600160a01b031663e9cb032485856040518363ffffffff1660e01b81526004016103ad929190611b09565b60a060405180830381600087803b1580156103c757600080fd5b505af11580156103db573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103ff9190611a42565b60208101519091506001600160601b03161561043057610430816000015182602001516001600160601b0316610bbc565b60608101516001600160601b03161561046357610463816040015182606001516001600160601b03168360800151610e08565b50505050565b7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031633146104dd5760405162461bcd60e51b8152602060048201526014602482015273125b5b53dddb8e881d5b985d5d1a1bdc9a5e995960621b60448201526064015b60405180910390fd5b6104e78282611244565b5050565b6001600160a01b0380821660009081526004602090815260408083208151808301909252546001600160601b038116808352600160601b90910490941691810191909152909161053e5750600092915050565b60007f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316635b9400816040518163ffffffff1660e01b815260040160206040518083038186803b15801561059957600080fd5b505afa1580156105ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105d19190611ad5565b60035460025491925090600160801b90046001600160801b031682158015906105fc57506103e88110155b156106275780610610633b9aca0085611bb5565b61061a9190611b95565b6106249083611b7d565b91505b835161063d906001600160601b03168584611340565b5090979650505050505050565b7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031633146106b95760405162461bcd60e51b8152602060048201526014602482015273125b5b53dddb8e881d5b985d5d1a1bdc9a5e995960621b60448201526064016104d4565b6002600054141561070c5760405162461bcd60e51b815260206004820152601a60248201527f636c61696d45726332303a207265656e7472616e742063616c6c00000000000060448201526064016104d4565b60026000819055507f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316836001600160a01b031614156107ae57600254600160801b90046001600160801b0316156107ae5760405162461bcd60e51b815260206004820152601360248201527f524d3a204661696c656420746f20636c61696d0000000000000000000000000060448201526064016104d4565b6107b9838383611416565b5050600160005550565b7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031633146108325760405162461bcd60e51b8152602060048201526014602482015273125b5b53dddb8e881d5b985d5d1a1bdc9a5e995960621b60448201526064016104d4565b61036a838383611576565b60008060008061084b6116fc565b6003546002549095506001600160601b0364010000000082041693509091506001600160801b03600160801b8204169060009061088e9063ffffffff1684611beb565b905063ffffffff811615806108b257508680156108b2575061012c8163ffffffff16105b806108be57506103e882105b156108d157858495509550505050610b2f565b60007f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316633c43059d6040518163ffffffff1660e01b8152600401602060405180830381600087803b15801561092e57600080fd5b505af1158015610942573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906109669190611ad5565b6040516370a0823160e01b81523060048201529091507f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906370a082319060240160206040518083038186803b1580156109c857600080fd5b505afa1580156109dc573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610a009190611ad5565b95506000610a0e8287611b7d565b905080871115610a6d576000610a248289611bd4565b9050610a308184611b7d565b92507f0701991c7670454699af0d89a71c6225608163b182136536a3a34395535b5a4881604051610a6391815260200190565b60405180910390a1505b8115610ad25783610a82633b9aca0084611bb5565b610a8c9190611b95565b610a969089611b7d565b60038190556040518381529098507fde88a922e0d3b88b24e9623efeb464919c6bf9f66857a65e2bfcf2ce87a9433d9060200160405180910390a15b6002805463ffffffff191663ffffffff8716179055898015610af45750868614155b15610b2957610b028761170c565b600260046101000a8154816001600160601b0302191690836001600160601b031602179055505b50505050505b9250925092565b6001600160a01b0380831660009081526001602090815260408083206001600160e01b03198616845290915281205490911680610bb55760405162461bcd60e51b815260206004820152600660248201527f41434d3a4534000000000000000000000000000000000000000000000000000060448201526064016104d4565b9392505050565b8060008111610c0d5760405162461bcd60e51b815260206004820152601860248201527f524d3a205a65726f20616d6f756e742070726f7669646564000000000000000060448201526064016104d4565b826001600160a01b038116610c645760405162461bcd60e51b815260206004820152601960248201527f524d3a205a65726f20616464726573732070726f76696465640000000000000060448201526064016104d4565b6000610c7160018061083d565b50506001600160a01b0380871660009081526004602090815260408083208151808301909252546001600160601b0381168252600160601b90049093169083015291925090633b9aca00610cc58488611bb5565b610ccf9190611b95565b82602001516001600160a01b0316610ce79190611b7d565b905060008683600001516001600160601b0316610d049190611b7d565b90506040518060400160405280610d1a8361170c565b6001600160601b03168152602001610d3184611765565b6001600160a01b03908116909152898116600090815260046020908152604090912083519390910151909116600160601b026001600160601b03909216919091179055600254610d9c90610d979089906001600160801b03600160801b90910416611b7d565b6117cb565b600280546001600160801b03928316600160801b0292169190911790556040516001600160a01b038916907fa9cb08b17f930ad003053de9e6b23478fb011aa5113047ce62b832dcbb6d2e4290610df6908a815260200190565b60405180910390a25050505050505050565b8160008111610e595760405162461bcd60e51b815260206004820152601860248201527f524d3a205a65726f20616d6f756e742070726f7669646564000000000000000060448201526064016104d4565b836001600160a01b038116610eb05760405162461bcd60e51b815260206004820152601960248201527f524d3a205a65726f20616464726573732070726f76696465640000000000000060448201526064016104d4565b826001600160a01b038116610f075760405162461bcd60e51b815260206004820152601960248201527f524d3a205a65726f20616464726573732070726f76696465640000000000000060448201526064016104d4565b6001600160a01b038087166000908152600460209081526040918290208251808401909352546001600160601b038116808452600160601b9091049093169082015290861115610f995760405162461bcd60e51b815260206004820152601f60248201527f524d3a204e6f7420656e6f7567682073686172657320746f2072656465656d0060448201526064016104d4565b6000806000610faa6000600161083d565b9250925092506000806000610fc08c8888611340565b9250925092506040518060400160405280610fda8461170c565b6001600160601b03168152602001610ff183611765565b6001600160a01b039081169091528e8116600090815260046020908152604090912083519390910151909116600160601b026001600160601b0390921691909117905560025461105790610d97908e906001600160801b03600160801b90910416611bd4565b600280546001600160801b03928316600160801b02921691909117905560006110808487611bd4565b90508085146110b9576110928161170c565b600260046101000a8154816001600160601b0302191690836001600160601b031602179055505b83156111f15760405163a9059cbb60e01b81526001600160a01b038d81166004830152602482018690527f0000000000000000000000000000000000000000000000000000000000000000169063a9059cbb90604401602060405180830381600087803b15801561112957600080fd5b505af115801561113d573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906111619190611982565b6111ad5760405162461bcd60e51b815260206004820152601c60248201527f524d3a20496e7465726e616c207472616e73666572206661696c65640000000060448201526064016104d4565b8b6001600160a01b03167fe2403640ba68fed3a2f88b7557551d1993f84b99bb10ff833f0cf8db0c5e0486856040516111e891815260200190565b60405180910390a25b8d6001600160a01b03167fc064950777109fc27d3ee46c0e316d1aad25e9b115d36ea363e5623fabf0f4fe8e60405161122c91815260200190565b60405180910390a25050505050505050505050505050565b6001600160a01b0382811660009081526001602090815260408083206001600160e01b031986168452909152902054166112c05760405162461bcd60e51b815260206004820152600660248201527f41434d3a4533000000000000000000000000000000000000000000000000000060448201526064016104d4565b6001600160a01b03821660008181526001602090815260408083206001600160e01b03198616808552908352818420805473ffffffffffffffffffffffffffffffffffffffff19169055905192835292917fc3b2e3d4ba2ea7ac7abc74ac870cb893deaa227c6c21322632d97e6a2e2bf92d910160405180910390a35050565b60008060008585600001516001600160601b031661135e9190611bd4565b91506000821561139e5785600001516001600160601b03168787602001516001600160a01b031661138f9190611bb5565b6113999190611b95565b6113ad565b85602001516001600160a01b03165b90508086602001516001600160a01b03166113c89190611bd4565b600094509150841561140c57633b9aca006113e38689611bb5565b6113ed9190611b95565b9350808410156113fd57836113ff565b805b6114099085611bd4565b93505b5093509350939050565b604080518082018252601981527f7472616e7366657228616464726573732c75696e74323536290000000000000060209182015281516001600160a01b0385811660248301526044808301869052845180840390910181526064909201845291810180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1663a9059cbb60e01b179052915160009283928716916114b79190611aed565b6000604051808303816000865af19150503d80600081146114f4576040519150601f19603f3d011682016040523d82523d6000602084013e6114f9565b606091505b50915091508180156115235750805115806115235750808060200190518101906115239190611982565b61156f5760405162461bcd60e51b815260206004820152601b60248201527f636c61696d45726332303a205452414e534645525f4641494c4544000000000060448201526064016104d4565b5050505050565b6001600160a01b0383161580159061159657506001600160a01b03811615155b80156115ab57506001600160e01b0319821615155b6115f75760405162461bcd60e51b815260206004820152600660248201527f41434d3a4531000000000000000000000000000000000000000000000000000060448201526064016104d4565b6001600160a01b0383811660009081526001602090815260408083206001600160e01b03198716845290915290205416156116745760405162461bcd60e51b815260206004820152600660248201527f41434d3a4532000000000000000000000000000000000000000000000000000060448201526064016104d4565b6001600160a01b0383811660008181526001602090815260408083206001600160e01b0319881680855290835292819020805473ffffffffffffffffffffffffffffffffffffffff191695871695861790555193845290927fc3b2e3d4ba2ea7ac7abc74ac870cb893deaa227c6c21322632d97e6a2e2bf92d910160405180910390a3505050565b600061170743611820565b905090565b6000600160601b82106117615760405162461bcd60e51b815260206004820152600860248201527f554e53414645393600000000000000000000000000000000000000000000000060448201526064016104d4565b5090565b60007401000000000000000000000000000000000000000082106117615760405162461bcd60e51b815260206004820152600960248201527f554e53414645313630000000000000000000000000000000000000000000000060448201526064016104d4565b6000600160801b82106117615760405162461bcd60e51b815260206004820152600960248201527f554e53414645313238000000000000000000000000000000000000000000000060448201526064016104d4565b600064010000000082106117615760405162461bcd60e51b815260206004820152600860248201527f554e53414645333200000000000000000000000000000000000000000000000060448201526064016104d4565b80356001600160e01b03198116811461188e57600080fd5b919050565b80516001600160601b038116811461188e57600080fd5b6000602082840312156118bb578081fd5b8135610bb581611c68565b6000806000606084860312156118da578182fd5b83356118e581611c68565b925060208401356118f581611c68565b929592945050506040919091013590565b60008060408385031215611918578182fd5b823561192381611c68565b915061193160208401611876565b90509250929050565b60008060006060848603121561194e578283fd5b833561195981611c68565b925061196760208501611876565b9150604084013561197781611c68565b809150509250925092565b600060208284031215611993578081fd5b81518015158114610bb5578182fd5b600080604083850312156119b4578182fd5b6119bd83611876565b915060208084013567ffffffffffffffff808211156119da578384fd5b818601915086601f8301126119ed578384fd5b8135818111156119ff576119ff611c52565b611a11601f8201601f19168501611b4c565b91508082528784828501011115611a26578485fd5b8084840185840137810190920192909252919491935090915050565b600060a08284031215611a53578081fd5b60405160a0810181811067ffffffffffffffff82111715611a7657611a76611c52565b6040528251611a8481611c68565b8152611a9260208401611893565b60208201526040830151611aa581611c68565b6040820152611ab660608401611893565b60608201526080830151611ac981611c68565b60808201529392505050565b600060208284031215611ae6578081fd5b5051919050565b60008251611aff818460208701611c10565b9190910192915050565b63ffffffff60e01b831681526040602082015260008251806040840152611b37816060850160208701611c10565b601f01601f1916919091016060019392505050565b604051601f8201601f1916810167ffffffffffffffff81118282101715611b7557611b75611c52565b604052919050565b60008219821115611b9057611b90611c3c565b500190565b600082611bb057634e487b7160e01b81526012600452602481fd5b500490565b6000816000190483118215151615611bcf57611bcf611c3c565b500290565b600082821015611be657611be6611c3c565b500390565b600063ffffffff83811690831681811015611c0857611c08611c3c565b039392505050565b60005b83811015611c2b578181015183820152602001611c13565b838111156104635750506000910152565b634e487b7160e01b600052601160045260246000fd5b634e487b7160e01b600052604160045260246000fd5b6001600160a01b0381168114611c7d57600080fd5b5056fea164736f6c6343000804000a",
  "devdoc": {
    "events": {
      "BalanceAdjusted(uint256)": {
        "details": "Emitted when the Treasury counts for \"extra\" reward tokens. \"Extra\" tokens are ones sent to this contract directly (rather than vested via the REWARD_POOL)."
      },
      "RewardAdded(uint256)": {
        "details": "Emitted when new reward token amount vested to this contract"
      },
      "RewardPaid(address,uint256)": {
        "details": "Emitted when reward token amount paid to/for a user"
      },
      "SharesGranted(address,uint256)": {
        "details": "Emitted when new shares granted to a user"
      },
      "SharesRedeemed(address,uint256)": {
        "details": "Emitted when shares of a user redeemed"
      }
    },
    "kind": "dev",
    "methods": {
      "addRewardAdviser(address,bytes4,address)": {
        "details": "May be only called by the {OWNER} !!!!! Before adding a new \"adviser\", ensure \"shares\" it \"advices\" can not overflow `UserRecord.shares`, `UserRecord.offset` and `totalShares`."
      },
      "claimErc20(address,address,uint256)": {
        "details": "May be only called by the {OWNER}"
      },
      "removeRewardAdviser(address,bytes4)": {
        "details": "May be only called by the {OWNER}"
      }
    },
    "stateVariables": {
      "MIN_SHARES_REWARDED": {
        "details": "Min number of unredeemed shares being rewarded"
      },
      "MIN_VESTING_BLOCKS": {
        "details": "Min number of blocks between vesting in the Treasury"
      },
      "START_BLOCK": {
        "details": "Block the contract deployed in"
      },
      "lastBalance": {
        "details": "Reward token balance (aka Treasury) after last vesting (token total supply is supposed to not exceed 2**96)"
      },
      "lastVestedBlock": {
        "details": "Block when reward tokens were last time were vested in"
      }
    },
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {
      "OWNER()": {
        "notice": "The owner who has privileged rights"
      },
      "REWARD_POOL()": {
        "notice": "RewardPool instance that vests the reward token"
      },
      "REWARD_TOKEN()": {
        "notice": "Token rewards are given in"
      },
      "addRewardAdviser(address,bytes4,address)": {
        "notice": "Adds the \"RewardAdviser\" for given ActionOracle and action type"
      },
      "claimErc20(address,address,uint256)": {
        "notice": "Withdraws accidentally sent token from this contract"
      },
      "entitled(address)": {
        "notice": "Returns reward token amount entitled to the given user/account"
      },
      "removeRewardAdviser(address,bytes4)": {
        "notice": "Remove \"RewardAdviser\" for given ActionOracle and action type"
      },
      "totalShares()": {
        "notice": "Total number of unredeemed shares (it is supposed to not exceed 2**128)"
      }
    },
    "version": 1
  },
  "storageLayout": {
    "storage": [
      {
        "astId": 3882,
        "contract": "contracts/RewardMaster.sol:RewardMaster",
        "label": "_reentrancyStatus",
        "offset": 0,
        "slot": "0",
        "type": "t_uint256"
      },
      {
        "astId": 2987,
        "contract": "contracts/RewardMaster.sol:RewardMaster",
        "label": "rewardAdvisers",
        "offset": 0,
        "slot": "1",
        "type": "t_mapping(t_address,t_mapping(t_bytes4,t_address))"
      },
      {
        "astId": 34,
        "contract": "contracts/RewardMaster.sol:RewardMaster",
        "label": "lastVestedBlock",
        "offset": 0,
        "slot": "2",
        "type": "t_uint32"
      },
      {
        "astId": 37,
        "contract": "contracts/RewardMaster.sol:RewardMaster",
        "label": "lastBalance",
        "offset": 4,
        "slot": "2",
        "type": "t_uint96"
      },
      {
        "astId": 40,
        "contract": "contracts/RewardMaster.sol:RewardMaster",
        "label": "totalShares",
        "offset": 16,
        "slot": "2",
        "type": "t_uint128"
      },
      {
        "astId": 50,
        "contract": "contracts/RewardMaster.sol:RewardMaster",
        "label": "accumRewardPerShare",
        "offset": 0,
        "slot": "3",
        "type": "t_uint256"
      },
      {
        "astId": 63,
        "contract": "contracts/RewardMaster.sol:RewardMaster",
        "label": "records",
        "offset": 0,
        "slot": "4",
        "type": "t_mapping(t_address,t_struct(UserRecord)58_storage)"
      }
    ],
    "types": {
      "t_address": {
        "encoding": "inplace",
        "label": "address",
        "numberOfBytes": "20"
      },
      "t_bytes4": {
        "encoding": "inplace",
        "label": "bytes4",
        "numberOfBytes": "4"
      },
      "t_mapping(t_address,t_mapping(t_bytes4,t_address))": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => mapping(bytes4 => address))",
        "numberOfBytes": "32",
        "value": "t_mapping(t_bytes4,t_address)"
      },
      "t_mapping(t_address,t_struct(UserRecord)58_storage)": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => struct RewardMaster.UserRecord)",
        "numberOfBytes": "32",
        "value": "t_struct(UserRecord)58_storage"
      },
      "t_mapping(t_bytes4,t_address)": {
        "encoding": "mapping",
        "key": "t_bytes4",
        "label": "mapping(bytes4 => address)",
        "numberOfBytes": "32",
        "value": "t_address"
      },
      "t_struct(UserRecord)58_storage": {
        "encoding": "inplace",
        "label": "struct RewardMaster.UserRecord",
        "members": [
          {
            "astId": 55,
            "contract": "contracts/RewardMaster.sol:RewardMaster",
            "label": "shares",
            "offset": 0,
            "slot": "0",
            "type": "t_uint96"
          },
          {
            "astId": 57,
            "contract": "contracts/RewardMaster.sol:RewardMaster",
            "label": "offset",
            "offset": 12,
            "slot": "0",
            "type": "t_uint160"
          }
        ],
        "numberOfBytes": "32"
      },
      "t_uint128": {
        "encoding": "inplace",
        "label": "uint128",
        "numberOfBytes": "16"
      },
      "t_uint160": {
        "encoding": "inplace",
        "label": "uint160",
        "numberOfBytes": "20"
      },
      "t_uint256": {
        "encoding": "inplace",
        "label": "uint256",
        "numberOfBytes": "32"
      },
      "t_uint32": {
        "encoding": "inplace",
        "label": "uint32",
        "numberOfBytes": "4"
      },
      "t_uint96": {
        "encoding": "inplace",
        "label": "uint96",
        "numberOfBytes": "12"
      }
    }
  }
}
